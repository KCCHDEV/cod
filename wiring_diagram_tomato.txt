🍅 Tomato Watering System - Wiring Diagram
==========================================

Hardware Components:
- ESP32 Development Board
- DHT22 Temperature & Humidity Sensor
- Soil Moisture Sensor (Capacitive or Resistive)
- 1-Channel Relay Module
- Water Pump (5V/12V)
- LED Status Indicator
- Power Supply (5V/2A)
- Jumper Wires
- Breadboard (optional)

Wiring Connections:
==================

ESP32 Pin    Component    Description
--------     --------    -----------
3.3V    -->  DHT22 VCC   Power for DHT22 sensor
GND     -->  DHT22 GND   Ground for DHT22 sensor
GPIO4   -->  DHT22 DATA  Data line for DHT22

3.3V    -->  Soil Sensor VCC   Power for soil sensor
GND     -->  Soil Sensor GND   Ground for soil sensor
GPIO36  -->  Soil Sensor AOUT  Analog output from soil sensor

5V      -->  Relay VCC   Power for Relay module
GND     -->  Relay GND   Ground for Relay module
GPIO5   -->  Relay IN    Control signal for Relay

3.3V    -->  LED +       Power for Status LED
GPIO2   -->  LED -       Control for Status LED (ผ่าน resistor 220Ω)

Power Supply:
=============
5V/12V Power Supply --> Relay VCC (สำหรับปั๊มน้ำ)
5V Power Supply     --> ESP32 VIN (ถ้าจำเป็น)

Relay Output:
=============
Relay COM --> Water Pump +
Relay NO  --> Water Pump -

Soil Moisture Sensor Types:
===========================

1. Capacitive Soil Moisture Sensor:
   - ไม่มีโลหะสัมผัสกับดิน
   - ทนทานต่อการกัดกร่อน
   - ค่าที่อ่านได้: 0-4095 (ESP32 ADC)
   - แห้ง: > 2000, ชุ่ม: < 1500

2. Resistive Soil Moisture Sensor:
   - มีโลหะสัมผัสกับดิน
   - ราคาถูกกว่า
   - อาจเกิดการกัดกร่อนได้
   - ต้องใช้ power pin เพื่อป้องกันการกัดกร่อน

Sensor Calibration:
===================
1. วัดค่าดินแห้ง (ไม่ให้น้ำ 2-3 วัน)
2. วัดค่าดินชุ่ม (ให้น้ำจนชุ่ม)
3. ปรับค่า threshold ในโค้ด:
   ```cpp
   const int SOIL_MOISTURE_DRY = 2000;  // ค่าดินแห้ง
   const int SOIL_MOISTURE_WET = 1500;  // ค่าดินชุ่ม
   ```

Water System Design:
===================
1. ติดตั้งถังน้ำไว้ด้านบน
2. ใช้ปั๊มน้ำต่อกับ Relay
3. วางท่อน้ำให้ไหลลงมาที่โคนต้นมะเขือเทศ
4. ใช้ drip irrigation หรือ sprinkler

Installation Tips:
==================
1. วาง DHT22 ในที่ที่มีอากาศถ่ายเท
2. ฝัง soil sensor ในดินใกล้โคนต้น
3. ใช้ waterproof case สำหรับ electronics
4. ตรวจสอบการรั่วซึมของน้ำ
5. ใช้ power supply ที่มีกระแสเพียงพอ

Testing:
========
1. ทดสอบ DHT22 อ่านค่าอุณหภูมิและความชื้น
2. ทดสอบ soil sensor อ่านค่าความชื้นในดิน
3. ทดสอบ Relay เปิด/ปิด
4. ทดสอบ WiFi connection
5. ทดสอบ Web interface
6. ทดสอบ Blink App control

Safety Features:
================
- ใช้ Relay เพื่อแยกวงจรไฟฟ้าแรงสูง
- ใส่ fuse protection สำหรับปั๊มน้ำ
- ใช้ waterproof case
- ตรวจสอบการรั่วซึมของน้ำ
- จำกัดจำนวนครั้งต่อวัน

Notes:
======
- ตรวจสอบแรงดันไฟฟ้าที่ sensor ต้องการ
- ใช้ power supply ที่มีกระแสเพียงพอ
- ติดตั้งในที่ที่ป้องกันน้ำและความชื้น
- ตรวจสอบการทำงานของปั๊มน้ำก่อนใช้งานจริง
- ปรับค่า threshold ตามสภาพแวดล้อม 