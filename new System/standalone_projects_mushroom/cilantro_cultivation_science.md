# 🌿 วิทยาศาสตร์การปลูกผักชีฟลั่ง

> **เอกสารเชิงลึกด้านพฤกษศาสตร์และเทคโนโลยีการปลูกผักชีฟลั่ง**  
> **จัดทำโดย: RDTRC Team**

---

## 📖 สารบัญ

1. [🌱 พฤกษศาสตร์ของผักชีฟลั่ง](#botany)
2. [🔄 วงจรชีวิตและการเจริญเติบโต](#lifecycle)
3. [🌡️ ปัจจัยสิ่งแวดล้อม](#environment)
4. [🧪 กระบวนการทางสรีรวิทยา](#physiology)
5. [🌾 การจัดการดินและธาตุอาหาร](#soil-nutrition)
6. [💧 การจัดการน้ำ](#water-management)
7. [🦠 การจัดการศัตรูพืช](#pest-management)
8. [⚗️ เทคโนโลジีการปลูก](#cultivation-technology)
9. [📊 การวัดและประเมินผล](#measurement-evaluation)

---

## 🌱 พฤกษศาสตร์ของผักชีฟลั่ง {#botany}

### 🏗️ การจำแนกประเภททางอนุกรมวิธาน

**ผักชีฟลั่ง (Coriandrum sativum L.)**

```
Kingdom: Plantae (พืช)
├── Phylum: Angiosperms (พืชดอก)
    ├── Class: Eudicots (พืชใบเลี้ยงคู่)
        ├── Order: Apiales (อันดับร่ม)
            ├── Family: Apiaceae (วงศ์ร่ม)
                ├── Subfamily: Apioideae
                    └── Genus: Coriandrum
                        └── Species: C. sativum
                            ├── var. sativum (เมล็ดใหญ่)
                            ├── var. microcarpum (เมล็ดเล็ก)
                            └── var. vulgare (ทั่วไป)
```

### 🌿 โครงสร้างทางกายวิภาค

**ระบบราก (Root System):**

```
Root Architecture:
├── Primary Root (รากแก้ว)
│   ├── Length: 15-25 cm ในดินปกติ
│   ├── Diameter: 2-4 mm ที่โคน
│   ├── Function: ยึดพืช, ดูดซับน้ำลึก
│   └── Taproot ratio: 60-70% ของมวลราก
├── Secondary Roots (รากแขนง)
│   ├── Branching: ทุก 1-2 cm ตามแนวรากแก้ว
│   ├── Spread: รัศมี 10-15 cm จากต้น
│   ├── Depth: 5-15 cm จากผิวดิน
│   └── Function: ดูดซับธาตุอาหารผิวดิน
└── Root Hairs (ขนราก)
    ├── Density: 200-400 ขน/mm²
    ├── Length: 0.5-2.0 mm
    ├── Lifespan: 2-3 สัปดาห์
    └── Function: เพิ่มพื้นผิวดูดซับ 10-100 เท่า
```

**ระบบลำต้น (Stem System):**

```
Stem Characteristics:
├── Type: Herbaceous (เนื้ออ่อน)
├── Height: 30-60 cm (พันธุ์ใบ), 60-120 cm (พันธุ์เมล็ด)
├── Diameter: 0.5-1.5 cm ที่โคน
├── Internodes: 2-5 cm ความยาว
├── Branching: Sympodial (แตกแขนงจากข้อ)
├── Surface: เรียบ มีร่องตามยาว
└── Color: เขียวอ่อนถึงเขียวเข้ม

Anatomical Structure:
├── Epidermis: เซลล์ชั้นนอก มี Cuticle
├── Cortex: เนื้อเยื่อรองรับ มี Chlorenchyma
├── Vascular Bundles: กำเนิดไซเลมและโฟลเอม
└── Pith: เนื้อเยื่อกลางลำต้น
```

**ระบบใบ (Leaf System):**

```
Leaf Morphology:
├── Arrangement: Alternate (เรียงสลับ)
├── Type: Compound pinnate (ใบประกอบแบบขนนก)
├── Stipules: ไม่มี
├── Petiole: 2-8 cm ยาว มีร่อง
└── Blade: แบ่งเป็น leaflets

Developmental Stages:
├── Cotyledon leaves: ใบเลี้ยง 2 ใบ
├── First true leaves: ใบแท้แรก (รูปไข่)
├── Juvenile leaves: ใบวัยเด็ก (แบบเดี่ยว)
├── Mature leaves: ใบโต (แบบประกอบ)
└── Senescent leaves: ใบแก่ (เหลือง)

Leaf Anatomy:
├── Upper epidermis: มี Cuticle หนา
├── Palisade mesophyll: 2-3 ชั้นเซลล์
├── Spongy mesophyll: เซลล์หลวม มีช่องอากาศ
├── Lower epidermis: มี Stomata มาก
└── Vascular bundles: เส้นใบแบบ Reticulate
```

### 🌸 ระบบการสืบพันธุ์

**ดอก (Inflorescence):**

```
Flower Structure:
├── Type: Compound umbel (ช่อดอกแบบร่ม)
├── Primary umbel: 3-10 รังสี
├── Secondary umbel: 3-15 ดอกย่อย
├── Bracts: ใบประดับ 0-1 ใบ
├── Bracteoles: ใบประดับย่อย 0-3 ใบ
└── Flowers: ดอกสมบูรณ์เพศ และดอกเพศผู้

Individual Flower:
├── Sepals: กลีบเลี้ยง 5 กลีบ (เล็กมาก)
├── Petals: กลีบดอก 5 กลีบ สีขาว-ชมพู
├── Stamens: เกสรตัวผู้ 5 อัน
├── Pistil: เกสรตัวเมีย 1 อัน
└── Ovary: รังไข่ 2 ช่อง

Pollination:
├── Type: Cross-pollination (ผสมข้าม) + Self-pollination
├── Agents: แมลง (ผึ้ง, แมลงวัน), ลม
├── Timing: เช้าตรู่ 6-10 น.
└── Success rate: 60-80% การติดผล
```

**ผลและเมล็ด (Fruit and Seeds):**

```
Fruit Characteristics:
├── Type: Schizocarp (ผลแยก)
├── Shape: กลม-รี
├── Size: 2-6 mm เส้นผ่านศูนย์กลาง
├── Color: เขียว → น้ำตาล → น้ำตาลเข้ม
├── Surface: เรียบ หรือมีร่องตื้น
└── Splitting: แยกเป็น 2 mericarp

Seed Composition:
├── Essential oils: 0.1-1.0% (ใบสด), 0.5-2.5% (เมล็ด)
├── Protein: 12-18% ของน้ำหนักแห้ง
├── Carbohydrates: 45-55%
├── Fat: 10-28%
├── Fiber: 10-15%
└── Minerals: 4-7%
```

---

## 🔄 วงจรชีวิตและการเจริญเติบโต {#lifecycle}

### 🌱 ระยะการเจริญเติบโต

**Growth Phases:**

```
Phase 1: Germination (การงอก)
Duration: 7-14 days
├── Imbibition: การดูดซับน้ำ (24-48 ชม.)
├── Radicle emergence: รากงอกออก (3-5 วัน)
├── Shoot emergence: ยอดงอกออก (5-7 วัน)
└── Cotyledon expansion: ใบเลี้ยงแผ่

Conditions:
├── Temperature: 15-25°C (optimal 20°C)
├── Moisture: 70-80% ของความจุเก็บน้ำ
├── Oxygen: >18% O₂ ในดิน
└── Light: ไม่จำเป็นในระยะแรก

Phase 2: Seedling (ต้นกล้า)
Duration: 14-21 days
├── First true leaves: ใบแท้คู่แรก
├── Root development: รากแขนงเริ่มเกิด
├── Stem elongation: ลำต้นยืด
└── Chlorophyll development: คลอโรฟิลล์เพิ่ม

Phase 3: Vegetative Growth (เจริญเติบโตทางใบ)
Duration: 30-45 days (ขึ้นกับพันธุ์)
├── Leaf production: ผลิตใบ 1-2 ใบ/สัปดาห์
├── Stem branching: แตกแขนง
├── Root expansion: รากแผ่กว้าง
└── Biomass accumulation: สะสมมวลชีวภาพ

Phase 4: Bolting (ออกดอก)
Duration: 7-14 days
├── Stem elongation: ลำต้นยืดเร็ว
├── Apical meristem change: เปลี่ยนเป็นดอก
├── Leaf morphology change: ใบเปลี่ยนรูปร่าง
└── Flower bud formation: ตูมดอกเกิด

Phase 5: Flowering (ดอกบาน)
Duration: 14-21 days
├── Umbel development: ช่อดอกพัฒนา
├── Anthesis: ดอกบาน
├── Pollination: การผสมเกสร
└── Fertilization: การปฏิสนธิ

Phase 6: Seed Development (เมล็ดพัฒนา)
Duration: 21-35 days
├── Fruit set: ผลติด
├── Seed filling: เมล็ดเติมเต็ม
├── Maturation: เมล็ดสุก
└── Desiccation: เมล็ดแห้ง
```

### 📊 Growth Rate Modeling

**Leaf Area Development:**

```
Leaf Area Index (LAI) Model:
LAI(t) = LAImax × (1 - e^(-k×t))

Where:
LAImax = Maximum LAI (2-4 for cilantro)
k = Growth rate constant (0.1-0.2 day⁻¹)
t = Time after germination (days)

Practical application:
├── LAI = 1.0: Start of canopy closure
├── LAI = 2.0: Optimal for harvest
├── LAI = 3.0: Maximum photosynthesis
└── LAI > 4.0: Self-shading problems
```

**Biomass Accumulation:**

```cpp
class CilantroGrowthModel {
private:
  float thermal_time = 0; // Growing degree days
  float base_temp = 7.0;  // Base temperature (°C)
  float opt_temp = 20.0;  // Optimal temperature (°C)
  float max_temp = 35.0;  // Maximum temperature (°C)
  
public:
  float calculateGDD(float daily_temp) {
    if (daily_temp < base_temp) return 0;
    if (daily_temp > max_temp) return 0;
    return daily_temp - base_temp;
  }
  
  float predictBiomass(float gdd_accumulated) {
    // Logistic growth model
    float max_biomass = 200; // g/plant
    float growth_rate = 0.01; // rate constant
    float midpoint = 500; // GDD at 50% max biomass
    
    return max_biomass / (1 + exp(-growth_rate * (gdd_accumulated - midpoint)));
  }
  
  int predictHarvestDays(float target_biomass = 50) {
    // Typical harvest at 50g fresh weight per plant
    float required_gdd = 300; // GDD for 50g biomass
    float avg_daily_gdd = 13; // at 20°C
    return required_gdd / avg_daily_gdd; // ~23 days
  }
};
```

---

## 🌡️ ปัจจัยสิ่งแวดล้อม {#environment}

### 🌡️ อุณหภูมิ (Temperature)

**Temperature Requirements:**

```
Optimal Temperature Ranges:
├── Germination: 15-25°C (optimal 20°C)
├── Vegetative growth: 17-27°C (optimal 20-22°C)
├── Flowering: 15-20°C (cool weather preferred)
└── Seed development: 20-25°C

Temperature Effects:
├── < 10°C: Growth cessation, potential frost damage
├── 10-15°C: Slow growth, good quality
├── 15-25°C: Optimal growth and quality
├── 25-30°C: Fast growth, reduced quality
├── 30-35°C: Heat stress, early bolting
└── > 35°C: Severe stress, plant death
```

**Temperature Stress Responses:**

*Heat Stress (>30°C):*
```
Physiological responses:
├── Stomatal closure: Reduce water loss
├── Leaf rolling: Reduce light absorption
├── Heat shock proteins: Cellular protection
├── Antioxidant production: Combat oxidative stress
├── Early bolting: Reproductive escape strategy
└── Reduced photosynthesis: Enzyme denaturation

Biochemical changes:
├── Increased respiration rate: 2x per 10°C
├── Decreased chlorophyll: Breakdown of pigments
├── Changed membrane fluidity: Lipid composition
└── Altered enzyme activity: Rubisco efficiency ↓
```

*Cold Stress (<15°C):*
```
Physiological responses:
├── Reduced enzyme activity: Slower metabolism
├── Membrane rigidity: Lipid phase changes
├── Ice crystal formation: Cellular damage
├── Osmotic adjustment: Solute accumulation
└── Cold acclimation: Protective protein synthesis

Adaptive mechanisms:
├── Antifreeze proteins: Prevent ice formation
├── Compatible solutes: Proline, glycine betaine
├── Membrane modifications: Unsaturated fatty acids
└── Metabolic adjustments: Alternative pathways
```

### 💧 ความชื้น (Humidity and Moisture)

**Water Relations:**

*Soil Moisture Requirements:*
```
Optimal soil moisture: 60-75% of field capacity

Field capacity calculation:
FC = (Wet weight - Dry weight) / Dry weight × 100%

Moisture stress indicators:
├── 40-60% FC: Mild stress, reduced growth
├── 20-40% FC: Moderate stress, wilting
├── < 20% FC: Severe stress, permanent damage
└── > 85% FC: Waterlogging, root rot risk
```

*Atmospheric Humidity:*
```
Relative Humidity effects:
├── < 40% RH: High transpiration, water stress
├── 40-70% RH: Optimal range
├── 70-85% RH: Good growth, disease risk
└── > 85% RH: High disease pressure

Vapor Pressure Deficit (VPD):
VPD = es(T) × (1 - RH/100)

Optimal VPD: 0.8-1.2 kPa
├── < 0.8 kPa: Low transpiration, nutrient uptake ↓
├── 0.8-1.2 kPa: Optimal water and nutrient transport
└── > 1.2 kPa: High transpiration, water stress
```

### ☀️ แสง (Light)

**Light Requirements:**

```
Photosynthetic Photon Flux Density (PPFD):
├── Light compensation point: 50-100 μmol/m²/s
├── Light saturation point: 800-1200 μmol/m²/s
├── Optimal PPFD: 200-400 μmol/m²/s
└── Maximum tolerable: 1500 μmol/m²/s

Daily Light Integral (DLI):
DLI = PPFD × photoperiod × 0.0036
├── Minimum DLI: 8-10 mol/m²/d
├── Optimal DLI: 12-18 mol/m²/d
└── Maximum DLI: 25-30 mol/m²/d

Spectral Requirements:
├── Blue (400-500 nm): 20-30% - Stomatal opening, compact growth
├── Green (500-600 nm): 10-20% - Light penetration
├── Red (600-700 nm): 40-50% - Photosynthesis, stem elongation
└── Far-red (700-800 nm): 5-10% - Shade avoidance
```

**Photoperiod Effects:**

```
Cilantro photoperiod response:
├── Short day plant: < 12 hours light
├── Long day response: > 14 hours light → early bolting
├── Critical photoperiod: 12-14 hours
└── Day-neutral varieties: Less sensitive to photoperiod

Bolting prevention strategies:
├── Maintain < 12 hours light
├── Use shade cloth (reduce intensity)
├── Select slow-bolting varieties
└── Provide cool temperatures
```

### 🌬️ การระบายอากาศ

**Air Movement and Gas Exchange:**

```
CO₂ Requirements:
├── Atmospheric CO₂: 400 ppm (current level)
├── Optimal CO₂: 800-1200 ppm (enriched)
├── CO₂ compensation point: 50-100 ppm
└── CO₂ saturation point: 1500-2000 ppm

Benefits of CO₂ enrichment:
├── Increased photosynthesis: 20-40% improvement
├── Higher water use efficiency: Better WUE
├── Enhanced growth rate: Faster development
└── Improved stress tolerance: Better adaptation

Air circulation benefits:
├── Prevent boundary layer stagnation
├── Enhance transpiration and cooling
├── Reduce disease pressure
├── Improve gas exchange
└── Strengthen stem development
```

---

## 🧪 กระบวนการทางสรีรวิทยา {#physiology}

### 🍃 การสังเคราะห์แสง

**Photosynthesis Mechanism:**

*C₃ Photosynthesis Pathway:*
```
Light Reactions (Thylakoid):
├── Photosystem II: 2H₂O + light → O₂ + 4H⁺ + 4e⁻
├── Electron transport: e⁻ transport + ATP synthesis
├── Photosystem I: NADP⁺ + H⁺ + 2e⁻ → NADPH
└── Products: ATP + NADPH + O₂

Dark Reactions (Calvin Cycle):
├── CO₂ fixation: CO₂ + RuBP → 2 × 3-PGA
├── Reduction: 3-PGA + ATP + NADPH → G3P
├── Regeneration: G3P → RuBP (requires ATP)
└── Net: 3CO₂ + 9ATP + 6NADPH → 1 G3P

Overall equation:
6CO₂ + 6H₂O + light energy → C₆H₁₂O₆ + 6O₂
```

**Photosynthetic Efficiency:**

```cpp
class PhotosynthesisModel {
private:
  float light_use_efficiency = 4.6; // μmol CO₂/μmol photons
  float quantum_yield = 0.05; // mol CO₂/mol photons
  
public:
  float calculatePhotosynthesis(float ppfd, float temperature, float co2_ppm) {
    // Light-limited photosynthesis
    float p_light = quantum_yield * ppfd;
    
    // CO₂-limited photosynthesis
    float p_co2 = (co2_ppm - 50) / (co2_ppm + 400); // Simplified Michaelis-Menten
    
    // Temperature effect (Q10 = 2)
    float temp_factor = pow(2.0, (temperature - 25) / 10.0);
    
    // Take minimum (limiting factor)
    return min(p_light, p_co2) * temp_factor;
  }
  
  float calculateLightUseEfficiency(float biomass_produced, float light_intercepted) {
    return biomass_produced / light_intercepted; // g/MJ
  }
};
```

### 💧 การคายน้ำ (Transpiration)

**Water Transport:**

*Transpiration Process:*
```
Water pathway:
Soil → Root hairs → Root cortex → Xylem → Stem → Leaves → Atmosphere

Driving forces:
├── Root pressure: 0.1-0.5 MPa (minor)
├── Cohesion-tension: Primary mechanism
├── Transpiration pull: -0.5 to -3.0 MPa
└── Atmospheric demand: VPD driving force

Stomatal control:
├── Guard cell turgor: K⁺ and Cl⁻ influx/efflux
├── ABA regulation: Stress hormone response
├── Light response: Blue light receptors
├── CO₂ response: Internal CO₂ concentration
└── Circadian rhythm: Daily opening/closing pattern
```

**Water Use Efficiency:**

```
WUE calculations:
├── Instantaneous WUE = Photosynthesis rate / Transpiration rate
├── Intrinsic WUE = Photosynthesis rate / Stomatal conductance
├── Integrated WUE = Biomass produced / Water consumed

Typical values for cilantro:
├── WUE: 2-4 g biomass/kg water
├── Transpiration ratio: 250-500 kg water/kg dry matter
├── Daily water use: 2-5 mm/day (full canopy)
└── Seasonal water use: 150-300 mm total
```

### 🌿 การดูดซับธาตุอาหาร

**Nutrient Uptake Mechanisms:**

*Active Transport:*
```
Primary active transport:
├── H⁺-ATPase: Proton pump creating electrochemical gradient
├── Energy source: ATP hydrolysis
├── Gradient: -150 to -200 mV across membrane
└── Function: Drive secondary transport

Secondary active transport:
├── Symport: Co-transport with H⁺ (NO₃⁻, amino acids)
├── Antiport: Counter-transport against H⁺ (Na⁺, Ca²⁺)
├── Driving force: Proton gradient
└── Examples: NO₃⁻/H⁺ symporter, K⁺/H⁺ antiporter
```

*Passive Transport:*
```
Facilitated diffusion:
├── Ion channels: K⁺, Ca²⁺, Cl⁻ channels
├── Aquaporins: Water channels
├── Driving force: Concentration gradient
└── Regulation: Gating mechanisms

Simple diffusion:
├── Small molecules: CO₂, O₂, NH₃
├── Lipid-soluble compounds: Some hormones
├── Rate: Proportional to concentration gradient
└── No energy requirement
```

### 🧬 การเมแทบอลิซึม

**Primary Metabolism:**

*Carbohydrate Metabolism:*
```
Starch synthesis (day):
Glucose-6-P → Glucose-1-P → ADP-glucose → Starch

Starch breakdown (night):
Starch → Maltose → Glucose → Sucrose transport

Sugar transport:
├── Phloem loading: Sucrose/H⁺ symporter
├── Long-distance transport: Mass flow in phloem
├── Phloem unloading: Sink tissues
└── Sugar conversion: Starch, cellulose, respiration
```

*Nitrogen Metabolism:*
```
Nitrate reduction:
NO₃⁻ → NO₂⁻ → NH₄⁺ → Amino acids → Proteins

Key enzymes:
├── Nitrate reductase: NO₃⁻ → NO₂⁻ (cytoplasm)
├── Nitrite reductase: NO₂⁻ → NH₄⁺ (plastids)
├── Glutamine synthetase: NH₄⁺ + Glutamate → Glutamine
└── Glutamate synthase: Glutamine + α-ketoglutarate → 2 Glutamate
```

**Secondary Metabolism:**

*Essential Oil Biosynthesis:*
```
Monoterpene pathway:
├── Acetyl-CoA → Mevalonic acid → IPP → DMAPP
├── IPP + DMAPP → Geranyl pyrophosphate (GPP)
├── GPP → Monoterpenes (linalool, α-pinene)
└── Location: Oil glands in leaves and seeds

Major compounds in cilantro:
├── Linalool: 60-70% (floral, citrus aroma)
├── α-Pinene: 5-10% (pine aroma)
├── Camphor: 3-8% (camphor aroma)
├── Geranyl acetate: 2-5% (floral aroma)
└── Decanal: 1-3% (soapy aroma - genetic variant)
```

---

## 🌾 การจัดการดินและธาตุอาหาร {#soil-nutrition}

### 🌱 ความต้องการธาตุอาหาร

**Essential Nutrients:**

*Macronutrients:*
```
Nitrogen (N): 3-4% of dry weight
├── Functions: Protein synthesis, chlorophyll, nucleic acids
├── Deficiency: Yellowing of older leaves, stunted growth
├── Excess: Dark green foliage, delayed maturity, soft growth
├── Forms: NO₃⁻ (preferred), NH₄⁺, organic N
└── Uptake rate: 2-4 kg N/ha/day during rapid growth

Phosphorus (P): 0.3-0.5% of dry weight
├── Functions: ATP, DNA/RNA, membrane phospholipids
├── Deficiency: Purple/red leaf margins, poor root development
├── Excess: Induced micronutrient deficiencies (Zn, Fe)
├── Forms: H₂PO₄⁻ (pH < 7), HPO₄²⁻ (pH > 7)
└── Critical concentration: 0.25-0.4% in leaf tissue

Potassium (K): 2-4% of dry weight
├── Functions: Enzyme activation, stomatal control, osmoregulation
├── Deficiency: Leaf edge burn, weak stems, poor disease resistance
├── Excess: Reduced Ca and Mg uptake
├── Forms: K⁺ (highly mobile in plant)
└── Luxury consumption: Can accumulate beyond need
```

*Secondary Nutrients:*
```
Calcium (Ca): 0.5-1.5% of dry weight
├── Functions: Cell wall structure, membrane stability
├── Deficiency: Tip burn, poor root development
├── Mobility: Immobile in phloem
└── pH relationship: Availability increases with pH

Magnesium (Mg): 0.2-0.4% of dry weight
├── Functions: Chlorophyll center, enzyme cofactor
├── Deficiency: Interveinal chlorosis (older leaves first)
├── Antagonists: K⁺, NH₄⁺ (competitive uptake)
└── Critical ratio: K:Mg should be < 10:1

Sulfur (S): 0.2-0.5% of dry weight
├── Functions: Amino acids (cysteine, methionine), essential oils
├── Deficiency: General yellowing (younger leaves first)
├── Forms: SO₄²⁻ (primary uptake form)
└── Relationship: N:S ratio should be 15-20:1
```

*Micronutrients:*
```
Iron (Fe): 50-200 ppm
├── Functions: Chlorophyll synthesis, electron transport
├── Deficiency: Interveinal chlorosis (young leaves)
├── pH sensitivity: Availability decreases above pH 7
└── Chelation: EDDHA, EDTA chelates for alkaline soils

Manganese (Mn): 20-100 ppm
├── Functions: Photosystem II, enzyme activation
├── Deficiency: Interveinal chlorosis with brown spots
├── pH relationship: Toxic at low pH (< 5.5)
└── Interaction: Antagonistic with Fe at high levels

Zinc (Zn): 15-60 ppm
├── Functions: Enzyme cofactor, protein synthesis
├── Deficiency: Shortened internodes, small leaves
├── Availability: Decreases with high P and pH
└── Critical concentration: 20-25 ppm in leaf tissue

Boron (B): 10-60 ppm
├── Functions: Cell wall formation, carbohydrate transport
├── Deficiency: Growing point death, hollow stems
├── Mobility: Immobile in most plants
└── Toxicity: Narrow range between deficiency and toxicity
```

### 🧪 การวิเคราะห์ดิน

**Soil Testing Parameters:**

*Physical Properties:*
```cpp
struct SoilPhysicalProperties {
  float sand_percent;        // 45-65% for good drainage
  float silt_percent;        // 20-40% for nutrient retention
  float clay_percent;        // 10-25% for structure
  float bulk_density;        // 1.0-1.4 g/cm³ optimal
  float porosity;           // 45-60% total pore space
  float field_capacity;      // 15-25% moisture content
  float wilting_point;       // 5-15% moisture content
  float infiltration_rate;   // 1-5 cm/hour
};

bool assessSoilPhysics(SoilPhysicalProperties soil) {
  bool suitable = true;
  
  // Check texture
  if (soil.clay_percent > 30) {
    Serial.println("Warning: Heavy clay soil, drainage issues");
    suitable = false;
  }
  
  if (soil.sand_percent > 80) {
    Serial.println("Warning: Sandy soil, nutrient leaching risk");
    suitable = false;
  }
  
  // Check structure
  if (soil.bulk_density > 1.5) {
    Serial.println("Warning: Compacted soil, root penetration issues");
    suitable = false;
  }
  
  return suitable;
}
```

*Chemical Properties:*
```
pH Management:
├── Optimal range: 6.0-7.0
├── Below 6.0: Add lime (CaCO₃), wood ash
├── Above 7.5: Add sulfur, organic matter
├── Buffer capacity: Related to clay and organic matter content
└── Seasonal monitoring: pH can fluctuate with moisture and temperature

Electrical Conductivity (EC):
├── Non-saline: < 2 dS/m
├── Slightly saline: 2-4 dS/m
├── Moderately saline: 4-8 dS/m
├── Strongly saline: > 8 dS/m (unsuitable)
└── Salt tolerance: Cilantro is moderately sensitive (threshold 4 dS/m)

Organic Matter:
├── Optimal level: 3-5%
├── Benefits: Nutrient retention, soil structure, water holding
├── C:N ratio: 25-30:1 for stable organic matter
└── Mineralization rate: 2-3% per year under temperate conditions
```

### 🌿 การจัดการธาตุอาหาร

**Fertilizer Programs:**

*Conventional Fertilization:*
```
Pre-plant fertilizer (per hectare):
├── N: 60-80 kg (30% at planting, 70% split applications)
├── P₂O₅: 40-60 kg (all at planting)
├── K₂O: 80-120 kg (50% at planting, 50% side-dress)
├── Ca: 20-40 kg (if soil test indicates need)
└── Mg: 10-20 kg (if soil test indicates need)

Side-dress applications:
├── Timing: 2-3 weeks after germination
├── N rate: 20-30 kg/ha every 2 weeks
├── Form: Ammonium nitrate, urea
└── Method: Band application 5-10 cm from plants
```

*Organic Fertilization:*
```
Organic amendments (per hectare):
├── Compost: 20-40 tons (2-4% N, slow release)
├── Aged manure: 15-30 tons (varies by source)
├── Blood meal: 200-400 kg (12-13% N, fast release)
├── Bone meal: 300-500 kg (3-4% P, slow release)
├── Kelp meal: 100-200 kg (micronutrients, growth hormones)
└── Rock phosphate: 200-400 kg (slow-release P)

Mineralization rates:
├── First year: 30-50% of organic N available
├── Second year: 10-15% additional release
├── Steady state: 2-3% annual mineralization
└── Temperature dependence: Doubles every 10°C increase
```

### 💧 การจัดการน้ำและธาตุอาหาร

**Fertigation Systems:**

*Nutrient Solution Preparation:*
```cpp
class NutrientSolution {
private:
  float ec_target = 1.5; // dS/m for cilantro
  float ph_target = 6.2; // Optimal pH
  
public:
  struct NutrientConcentration {
    float n_ppm;    // 150-200 ppm
    float p_ppm;    // 30-50 ppm  
    float k_ppm;    // 200-300 ppm
    float ca_ppm;   // 150-200 ppm
    float mg_ppm;   // 50-75 ppm
    float s_ppm;    // 50-100 ppm
  };
  
  NutrientConcentration calculateSolution(int growth_stage) {
    NutrientConcentration solution;
    
    switch(growth_stage) {
      case SEEDLING:
        solution = {100, 25, 150, 100, 30, 30}; // Lower concentration
        break;
      case VEGETATIVE:
        solution = {180, 40, 250, 180, 60, 60}; // Full strength
        break;
      case PRE_HARVEST:
        solution = {120, 30, 200, 150, 50, 40}; // Reduced N
        break;
    }
    
    return solution;
  }
  
  float calculateECFromPPM(NutrientConcentration nutrients) {
    // Simplified EC calculation
    float total_ppm = nutrients.n_ppm + nutrients.p_ppm + nutrients.k_ppm + 
                      nutrients.ca_ppm + nutrients.mg_ppm + nutrients.s_ppm;
    return total_ppm * 0.001; // Rough conversion factor
  }
};
```

---

## 💧 การจัดการน้ำ {#water-management}

### 💧 ความต้องการน้ำ

**Water Requirements:**

*Evapotranspiration (ET):*
```
ET calculation methods:
├── Penman-Monteith equation (FAO-56 standard)
├── Pan evaporation × crop coefficient
├── Lysimeter measurements
└── Energy balance approach

Crop coefficients (Kc):
├── Initial stage: Kc = 0.7 (10-15 days)
├── Development stage: Kc = 0.7-1.15 (15-25 days)
├── Mid-season: Kc = 1.15 (20-30 days)
└── Late season: Kc = 1.15-0.8 (15-20 days)

Daily water use:
├── Seedling: 1-2 mm/day
├── Vegetative: 3-5 mm/day
├── Mature: 4-6 mm/day
└── Total seasonal: 200-400 mm (climate dependent)
```

**Water Quality:**

*Irrigation Water Standards:*
```
Physical parameters:
├── Turbidity: < 5 NTU
├── Suspended solids: < 50 mg/L
├── Temperature: 15-25°C
└── Color: Clear to slightly colored

Chemical parameters:
├── pH: 6.0-8.0
├── EC: < 3 dS/m (< 2000 ppm TDS)
├── Sodium Adsorption Ratio (SAR): < 3
├── Chloride: < 350 mg/L
├── Sulfate: < 500 mg/L
├── Boron: < 2 mg/L
└── Heavy metals: Within EPA limits

Biological parameters:
├── Total coliforms: < 1000 CFU/100mL
├── Fecal coliforms: < 200 CFU/100mL
├── Pathogenic bacteria: Absent
└── Algae: Minimal growth
```

### 🚿 ระบบการรดน้ำ

**Drip Irrigation Design:**

*System Components:*
```
Water source → Filter → Pressure regulator → Main line → 
Sub-main → Lateral lines → Emitters → Plants

Design parameters:
├── Emitter flow rate: 2-4 L/h
├── Emitter spacing: 10-15 cm
├── Lateral spacing: 15-20 cm (single row), 30-40 cm (double row)
├── Operating pressure: 100-150 kPa (1-1.5 bar)
├── Uniformity coefficient: > 85%
└── System efficiency: > 90%
```

*Hydraulic Design:*
```cpp
class DripIrrigationDesign {
private:
  float emitter_flow = 4.0; // L/h
  float emitter_spacing = 0.15; // m
  float row_spacing = 0.3; // m
  
public:
  float calculateApplicationRate() {
    // Application rate in mm/h
    float area_per_emitter = emitter_spacing * row_spacing; // m²
    return (emitter_flow / area_per_emitter); // mm/h
  }
  
  float calculateIrrigationTime(float water_requirement_mm) {
    float application_rate = calculateApplicationRate();
    return water_requirement_mm / application_rate; // hours
  }
  
  int calculateEmitterCount(float plot_area_m2) {
    float area_per_emitter = emitter_spacing * row_spacing;
    return plot_area_m2 / area_per_emitter;
  }
  
  float calculateSystemPressureLoss(float lateral_length, float flow_rate) {
    // Hazen-Williams equation simplified
    float friction_factor = 0.001; // Typical for drip tubing
    return friction_factor * pow(flow_rate, 1.85) * lateral_length;
  }
};
```

### 📊 การตรวจสอบความชื้น

**Soil Moisture Monitoring:**

*Sensor Technologies:*
```
Tensiometers:
├── Measurement: Soil water tension (kPa)
├── Range: 0-80 kPa (practical limit)
├── Accuracy: ±2-5 kPa
├── Response time: Minutes to hours
├── Maintenance: Weekly refilling required
└── Best use: Sandy to loam soils

Capacitance sensors:
├── Measurement: Volumetric water content (%)
├── Range: 0-100% (full range)
├── Accuracy: ±2-3% VWC
├── Response time: Seconds
├── Maintenance: Minimal
└── Calibration: Soil-specific required

Time Domain Reflectometry (TDR):
├── Measurement: Volumetric water content (%)
├── Range: 0-100% (full range)  
├── Accuracy: ±1-2% VWC
├── Response time: Seconds
├── Advantages: High accuracy, minimal soil disturbance
└── Disadvantages: High cost, complex installation
```

*Irrigation Scheduling:*
```cpp
class IrrigationController {
private:
  float field_capacity = 25.0; // % VWC
  float wilting_point = 12.0;  // % VWC
  float management_allowable_depletion = 0.5; // 50% of available water
  
public:
  float calculateAvailableWater() {
    return field_capacity - wilting_point; // % VWC
  }
  
  float calculateIrrigationThreshold() {
    float available_water = calculateAvailableWater();
    return field_capacity - (available_water * management_allowable_depletion);
  }
  
  bool shouldIrrigate(float current_moisture) {
    float threshold = calculateIrrigationThreshold();
    return current_moisture < threshold;
  }
  
  float calculateIrrigationAmount(float current_moisture) {
    if (shouldIrrigate(current_moisture)) {
      return field_capacity - current_moisture; // Refill to field capacity
    }
    return 0.0;
  }
};
```

---

## 🦠 การจัดการศัตรูพืช {#pest-management}

### 🐛 แมลงศัตรูพืช

**Major Insect Pests:**

*Aphids (เพลี้ย):*
```
Species: Aphis coriandri, Myzus persicae
├── Damage: Sap sucking, honeydew production, virus transmission
├── Life cycle: 7-10 days generation time
├── Population growth: Exponential under favorable conditions
├── Economic threshold: 10-15 aphids per plant
└── Natural enemies: Ladybugs, lacewings, parasitic wasps

Management strategies:
├── Cultural: Reflective mulches, companion planting
├── Biological: Release beneficial insects
├── Chemical: Selective insecticides (imidacloprid, pymetrozine)
└── Monitoring: Yellow sticky traps, visual inspection
```

*Leaf miners (แมลงเจาะใบ):*
```
Species: Liriomyza spp.
├── Damage: Larvae mine inside leaves, reduce photosynthesis
├── Life cycle: 21-28 days (egg to adult)
├── Identification: Serpentine mines in leaves
├── Economic threshold: 1-2 mines per leaf
└── Peak activity: Warm, dry conditions

Control measures:
├── Cultural: Remove infested leaves, crop rotation
├── Biological: Parasitic wasps (Diglyphus, Dacnusa)
├── Chemical: Spinosad, abamectin
└── Physical: Fine mesh screens (50 mesh)
```

### 🦠 โรคพืช

**Fungal Diseases:**

*Powdery Mildew (โรคราแป้ง):*
```
Pathogen: Erysiphe heraclei
├── Symptoms: White powdery growth on leaves
├── Conditions: High humidity (>80%), moderate temperature (20-25°C)
├── Disease cycle: Conidia spread by wind, germinate in high humidity
├── Economic impact: Reduced photosynthesis, premature senescence
└── Survival: Cleistothecia in crop debris

Integrated management:
├── Cultural: Adequate spacing, avoid overhead irrigation
├── Biological: Bacillus subtilis, Trichoderma harzianum
├── Chemical: Sulfur, potassium bicarbonate, triazoles
└── Resistant varieties: Some cultivars show tolerance
```

*Damping-off (โรคโคนเน่า):*
```
Pathogens: Pythium spp., Rhizoctonia solani, Fusarium spp.
├── Symptoms: Seedling collapse, root rot, stem lesions
├── Conditions: Wet soil, poor drainage, cool temperatures
├── Critical period: Germination to 2-leaf stage
├── Economic impact: Stand reduction, replanting costs
└── Survival: Soil-borne, persist in organic matter

Prevention strategies:
├── Seed treatment: Fungicide coating, hot water treatment
├── Soil management: Improve drainage, avoid overwatering
├── Biological: Trichoderma, Pseudomonas fluorescens
└── Chemical: Metalaxyl, propamocarb (soil drench)
```

### 🌿 การจัดการแบบบูรณาการ

**Integrated Pest Management (IPM):**

*Monitoring and Thresholds:*
```cpp
class IPMSystem {
public:
  struct PestCount {
    int aphids_per_plant;
    int leafminer_mines_per_leaf;
    float disease_incidence_percent;
    int beneficial_insects_count;
  };
  
  bool exceedsThreshold(PestCount current_count) {
    bool action_needed = false;
    
    if (current_count.aphids_per_plant > 10) {
      Serial.println("Aphid threshold exceeded - Action required");
      action_needed = true;
    }
    
    if (current_count.leafminer_mines_per_leaf > 1.5) {
      Serial.println("Leafminer threshold exceeded - Action required");  
      action_needed = true;
    }
    
    if (current_count.disease_incidence_percent > 5.0) {
      Serial.println("Disease threshold exceeded - Action required");
      action_needed = true;
    }
    
    return action_needed;
  }
  
  String recommendAction(PestCount pest_data) {
    if (pest_data.beneficial_insects_count > 50) {
      return "High beneficial population - Use biological control";
    } else if (exceedsThreshold(pest_data)) {
      return "Apply selective pesticide - Preserve beneficials";
    } else {
      return "Continue monitoring - No action needed";
    }
  }
};
```

**Biological Control:**

*Beneficial Insects:*
```
Predators:
├── Ladybugs (Coccinella spp.): 50-60 aphids/day consumption
├── Lacewings (Chrysoperla spp.): 100+ aphids/larva/development
├── Minute pirate bugs (Orius spp.): Thrips and aphid control
└── Predatory mites (Phytoseiulus spp.): Spider mite control

Parasitoids:
├── Aphidius spp.: Aphid parasitic wasps
├── Diglyphus isaea: Leafminer parasitoid
├── Encarsia formosa: Whitefly parasitoid
└── Trichogramma spp.: Egg parasitoids

Release rates:
├── Ladybugs: 1000-5000 per acre
├── Lacewings: 5000-10000 eggs per acre
├── Parasitic wasps: 1-5 per m² weekly
└── Timing: Early season, preventive releases
```

---

## ⚗️ เทคโนโลจีการปลูก {#cultivation-technology}

### 🏠 ระบบปลูกในโรงเรือน

**Controlled Environment Agriculture:**

*Environmental Control Systems:*
```
Climate control parameters:
├── Temperature: ±1°C precision
├── Humidity: ±5% RH precision  
├── CO₂: ±50 ppm precision
├── Light: ±10% PPFD uniformity
└── Air circulation: 0.1-0.3 m/s velocity

Sensor network:
├── Wireless sensor nodes: Every 10-20 m²
├── Data logging: 1-minute intervals
├── Alert systems: SMS/email notifications
├── Remote monitoring: Web-based dashboard
└── Data storage: Cloud-based with backup
```

*HVAC System Design:*
```cpp
class GreenhouseClimate {
private:
  float target_temp = 22.0; // °C
  float target_humidity = 70.0; // %RH
  float target_co2 = 800.0; // ppm
  
public:
  struct ClimateData {
    float temperature;
    float humidity;
    float co2_ppm;
    float light_ppfd;
    float air_velocity;
  };
  
  struct ControlOutputs {
    int heating_valve_position;    // 0-100%
    int cooling_valve_position;    // 0-100%
    int humidifier_output;         // 0-100%
    int dehumidifier_output;       // 0-100%
    int co2_injection_rate;        // 0-100%
    int ventilation_fan_speed;     // 0-100%
  };
  
  ControlOutputs calculateControl(ClimateData current) {
    ControlOutputs output = {0};
    
    // Temperature control
    float temp_error = target_temp - current.temperature;
    if (temp_error > 1.0) {
      output.heating_valve_position = min(100, (int)(temp_error * 20));
    } else if (temp_error < -1.0) {
      output.cooling_valve_position = min(100, (int)(abs(temp_error) * 20));
    }
    
    // Humidity control
    float humidity_error = target_humidity - current.humidity;
    if (humidity_error > 5.0) {
      output.humidifier_output = min(100, (int)(humidity_error * 5));
    } else if (humidity_error < -5.0) {
      output.dehumidifier_output = min(100, (int)(abs(humidity_error) * 5));
    }
    
    // CO₂ control
    if (current.co2_ppm < target_co2 - 50) {
      output.co2_injection_rate = 50;
    }
    
    return output;
  }
};
```

### 🌱 ระบบไฮโดรโปนิกส์

**Hydroponic Systems:**

*Nutrient Film Technique (NFT):*
```
System design:
├── Channel slope: 1:40 to 1:100 (1-2.5%)
├── Flow rate: 1-3 L/min per channel
├── Channel width: 10-15 cm
├── Plant spacing: 8-12 cm
├── Solution depth: 2-5 mm film
└── Cycle timing: Continuous flow

Advantages:
├── Water efficiency: 90-95% less than soil
├── Nutrient precision: Exact control
├── No growing medium: Reduced cost
├── Easy harvest: Clean roots
└── Disease prevention: Sterile environment

Challenges:
├── Power dependency: Pump failure risk
├── Technical knowledge: Complex management
├── Initial cost: High setup investment
├── Root clogging: Channel blockage
└── pH fluctuations: Requires monitoring
```

*Deep Water Culture (DWC):*
```cpp
class DWCSystem {
private:
  float reservoir_volume = 100.0; // L
  float plant_count = 50;
  float target_dissolved_oxygen = 6.0; // mg/L
  
public:
  float calculateAerationRate() {
    // Air pump requirement: 1 L/min per 4 L of solution
    return reservoir_volume / 4.0; // L/min
  }
  
  float calculateNutrientVolume() {
    // Solution change every 2 weeks
    float daily_consumption = plant_count * 0.5; // L/day per plant
    return daily_consumption * 14; // Total for 2 weeks
  }
  
  bool checkSystemHealth(float ph, float ec, float dissolved_oxygen) {
    bool healthy = true;
    
    if (ph < 5.5 || ph > 6.5) {
      Serial.println("pH out of range - Adjust nutrient solution");
      healthy = false;
    }
    
    if (ec < 1.0 || ec > 2.0) {
      Serial.println("EC out of range - Check nutrient concentration");
      healthy = false;
    }
    
    if (dissolved_oxygen < 4.0) {
      Serial.println("Low dissolved oxygen - Increase aeration");
      healthy = false;
    }
    
    return healthy;
  }
};
```

### 🤖 การใช้ AI และ Machine Learning

**Predictive Analytics:**

*Growth Prediction Model:*
```python
# Example Python code for growth prediction
import numpy as np
from sklearn.ensemble import RandomForestRegressor
from sklearn.model_selection import train_test_split

class CilantroGrowthPredictor:
    def __init__(self):
        self.model = RandomForestRegressor(n_estimators=100, random_state=42)
        self.features = ['temperature', 'humidity', 'light_ppfd', 'co2_ppm', 
                        'nutrient_ec', 'ph', 'days_after_planting']
    
    def prepare_data(self, environmental_data, growth_data):
        """Prepare training data from sensor readings and growth measurements"""
        X = environmental_data[self.features]
        y = growth_data['biomass_g']
        return train_test_split(X, y, test_size=0.2, random_state=42)
    
    def train_model(self, X_train, y_train):
        """Train the growth prediction model"""
        self.model.fit(X_train, y_train)
        
    def predict_growth(self, environmental_conditions):
        """Predict plant growth based on environmental conditions"""
        prediction = self.model.predict([environmental_conditions])
        confidence = self.model.predict_proba([environmental_conditions])
        return prediction[0], confidence
    
    def optimize_environment(self, target_growth_rate):
        """Suggest optimal environmental conditions for target growth"""
        # Optimization algorithm to find best environmental parameters
        # This would use techniques like genetic algorithms or gradient descent
        pass
```

*Disease Detection:*
```cpp
class AIDiseaseDiagnosis {
public:
  struct ImageFeatures {
    float leaf_area_healthy;
    float leaf_area_diseased;
    float color_variance;
    float texture_entropy;
    int spot_count;
    float spot_size_avg;
  };
  
  String diagnoseDiseaseFromImage(ImageFeatures features) {
    // Simplified rule-based system
    // In practice, this would use trained neural networks
    
    if (features.spot_count > 10 && features.spot_size_avg < 2.0) {
      return "Bacterial leaf spot - Apply copper fungicide";
    } else if (features.color_variance > 0.5 && features.leaf_area_diseased > 20) {
      return "Powdery mildew - Improve air circulation, apply sulfur";
    } else if (features.texture_entropy > 0.8) {
      return "Possible viral infection - Remove affected plants";
    } else {
      return "No disease detected - Continue monitoring";
    }
  }
  
  float calculateDiseaseRisk(float temperature, float humidity, int days_wet) {
    // Disease risk model based on environmental conditions
    float risk = 0.0;
    
    if (temperature > 20 && temperature < 25 && humidity > 80) {
      risk += 0.3; // Favorable for fungal diseases
    }
    
    if (days_wet > 3) {
      risk += 0.4; // Prolonged wetness increases risk
    }
    
    return min(1.0f, risk); // Cap at 100% risk
  }
};
```

---

## 📊 การวัดและประเมินผล {#measurement-evaluation}

### 📏 การวัดการเจริญเติบโต

**Growth Measurements:**

*Non-destructive Methods:*
```cpp
class GrowthAnalyzer {
public:
  struct PlantMeasurements {
    float plant_height_cm;
    float leaf_count;
    float leaf_area_cm2;
    float stem_diameter_mm;
    float chlorophyll_index;
    float fresh_weight_g;
  };
  
  float calculateLeafAreaIndex(float total_leaf_area, float ground_area) {
    return total_leaf_area / ground_area;
  }
  
  float calculateSpecificLeafArea(float leaf_area, float leaf_dry_weight) {
    return leaf_area / leaf_dry_weight; // cm²/g
  }
  
  float calculateRelativeGrowthRate(float weight_t1, float weight_t2, float time_days) {
    return (log(weight_t2) - log(weight_t1)) / time_days; // g/g/day
  }
  
  float estimateBiomassFromHeight(float height_cm) {
    // Allometric relationship: Biomass = a × Height^b
    float a = 0.15; // Species-specific coefficient
    float b = 2.3;  // Scaling exponent
    return a * pow(height_cm, b);
  }
};
```

*Destructive Sampling:*
```
Sampling protocol:
├── Sample size: 5-10 plants per treatment
├── Frequency: Weekly during active growth
├── Timing: Same time of day (morning)
├── Method: Cut at soil level
└── Processing: Separate roots, stems, leaves

Measurements:
├── Fresh weight: Immediately after harvest
├── Dry weight: After 48-72h at 65°C
├── Leaf area: Leaf area meter or image analysis
├── Root:shoot ratio: Dry weight basis
├── Moisture content: (Fresh - Dry) / Fresh × 100%
└── Tissue analysis: N, P, K, micronutrients
```

### 🧪 การวิเคราะห์คุณภาพ

**Nutritional Quality:**

*Proximate Analysis:*
```
Standard methods (AOAC):
├── Moisture: Method 934.01 (oven drying)
├── Protein: Method 984.13 (Kjeldahl N × 6.25)
├── Fat: Method 991.36 (acid hydrolysis)
├── Ash: Method 923.03 (muffle furnace)
├── Fiber: Method 991.43 (enzymatic-gravimetric)
└── Carbohydrate: By difference

Typical values (fresh weight):
├── Moisture: 87-92%
├── Protein: 2.1-3.7%
├── Fat: 0.5-0.9%
├── Ash: 1.2-1.8%
├── Fiber: 2.8-3.5%
└── Carbohydrate: 0.9-3.9%
```

*Vitamin Analysis:*
```cpp
class NutritionalAnalyzer {
public:
  struct VitaminContent {
    float vitamin_c_mg_per_100g;    // 27-40 mg/100g
    float vitamin_k_ug_per_100g;    // 310-400 μg/100g
    float folate_ug_per_100g;       // 62-85 μg/100g
    float vitamin_a_iu_per_100g;    // 3930-6748 IU/100g
    float beta_carotene_ug_per_100g; // 3930-4050 μg/100g
  };
  
  bool assessNutritionalQuality(VitaminContent vitamins) {
    bool high_quality = true;
    
    if (vitamins.vitamin_c_mg_per_100g < 20) {
      Serial.println("Low vitamin C content - Check growing conditions");
      high_quality = false;
    }
    
    if (vitamins.vitamin_k_ug_per_100g < 200) {
      Serial.println("Low vitamin K content - May indicate nutrient deficiency");
      high_quality = false;
    }
    
    return high_quality;
  }
  
  float calculateNutritionalValue(VitaminContent vitamins) {
    // Simplified nutritional score (0-100)
    float score = 0;
    score += (vitamins.vitamin_c_mg_per_100g / 40.0) * 25; // 25% weight
    score += (vitamins.vitamin_k_ug_per_100g / 400.0) * 25; // 25% weight
    score += (vitamins.folate_ug_per_100g / 85.0) * 25; // 25% weight
    score += (vitamins.vitamin_a_iu_per_100g / 6748.0) * 25; // 25% weight
    return min(100.0f, score);
  }
};
```

### 📈 การวิเคราะห์ประสิทธิภาพ

**Production Efficiency:**

*Resource Use Efficiency:*
```
Water Use Efficiency (WUE):
WUE = Biomass produced (kg) / Water consumed (m³)
├── Excellent: WUE > 40 kg/m³
├── Good: WUE = 25-40 kg/m³  
├── Average: WUE = 15-25 kg/m³
└── Poor: WUE < 15 kg/m³

Nitrogen Use Efficiency (NUE):
NUE = Biomass produced (kg) / N applied (kg)
├── Excellent: NUE > 50 kg/kg N
├── Good: NUE = 30-50 kg/kg N
├── Average: NUE = 20-30 kg/kg N
└── Poor: NUE < 20 kg/kg N

Light Use Efficiency (LUE):
LUE = Biomass produced (g) / Light intercepted (MJ)
├── Excellent: LUE > 2.5 g/MJ
├── Good: LUE = 2.0-2.5 g/MJ
├── Average: LUE = 1.5-2.0 g/MJ
└── Poor: LUE < 1.5 g/MJ
```

*Economic Analysis:*
```cpp
class EconomicAnalyzer {
public:
  struct ProductionCosts {
    float seeds_cost;
    float fertilizer_cost;
    float water_cost;
    float energy_cost;
    float labor_cost;
    float infrastructure_cost;
    float other_costs;
  };
  
  struct Revenue {
    float yield_kg_per_m2;
    float price_per_kg;
    float premium_for_quality;
  };
  
  float calculateProfitability(ProductionCosts costs, Revenue revenue, float area_m2) {
    float total_costs = (costs.seeds_cost + costs.fertilizer_cost + 
                        costs.water_cost + costs.energy_cost + 
                        costs.labor_cost + costs.infrastructure_cost + 
                        costs.other_costs) * area_m2;
    
    float total_revenue = revenue.yield_kg_per_m2 * area_m2 * 
                         revenue.price_per_kg * (1 + revenue.premium_for_quality);
    
    return ((total_revenue - total_costs) / total_costs) * 100; // % profit margin
  }
  
  float calculateBreakEvenYield(ProductionCosts costs, float price_per_kg) {
    float cost_per_m2 = costs.seeds_cost + costs.fertilizer_cost + 
                        costs.water_cost + costs.energy_cost + 
                        costs.labor_cost + costs.infrastructure_cost + 
                        costs.other_costs;
    
    return cost_per_m2 / price_per_kg; // kg/m² required to break even
  }
};
```

---

## 🎓 สรุปและการประยุกต์

### 🔬 ความเข้าใจทางวิทยาศาสตร์

**หลักการสำคัญที่ต้องจำ:**

1. **พฤกษศาสตร์:** ผักชีฟลั่งเป็นพืชอากาศเย็น ต้องการการจัดการที่แตกต่างจากพืชเขตร้อน
2. **สรีรวิทยา:** การสังเคราะห์แสงแบบ C₃ มีข้อจำกัดในอุณหภูมิสูง
3. **โภชนาการ:** ความต้องการธาตุอาหารสูง โดยเฉพาะไนโตรเจน
4. **การจัดการน้ำ:** ต้องการความชื้นสม่ำเสมอ แต่ไม่ชอบน้ำขัง

### 🎯 การประยุกต์ใช้ในระบบอัตโนมัติ

**การออกแบบระบบที่มีประสิทธิภาพ:**

```cpp
class OptimalCilantroSystem {
public:
  void implementScientificPrinciples() {
    // 1. Temperature management for growth stages
    if (growth_stage == GERMINATION) {
      setTargetTemperature(20); // °C - optimal for germination
    } else if (growth_stage == VEGETATIVE) {
      setTargetTemperature(22); // °C - optimal for leaf production
    } else if (growth_stage == PRE_BOLTING) {
      setTargetTemperature(18); // °C - delay bolting
    }
    
    // 2. Moisture management based on root zone
    float current_moisture = readSoilMoisture();
    float field_capacity = 25.0; // % VWC
    float irrigation_threshold = field_capacity * 0.7; // 70% of FC
    
    if (current_moisture < irrigation_threshold) {
      int irrigation_time = calculateIrrigationTime(field_capacity - current_moisture);
      startWatering(irrigation_time * 1000); // Convert to milliseconds
    }
    
    // 3. Light management for quality
    float current_ppfd = readLightSensor();
    if (current_ppfd < 200) { // μmol/m²/s
      setSupplementalLighting(true);
      setLightIntensity(300); // Target PPFD
    }
    
    // 4. Nutrient management based on growth stage
    if (days_after_planting < 14) {
      setNutrientEC(1.0); // Lower for seedlings
    } else if (days_after_planting < 35) {
      setNutrientEC(1.5); // Full strength for vegetative
    } else {
      setNutrientEC(1.2); // Reduced before harvest
    }
  }
};
```

### 🌟 ข้อได้เปรียบของการใช้วิทยาศาสตร์

1. **เพิ่มผลผลิต:** เข้าใจหลักการทำให้ควบคุมการเจริญเติบโตได้ดี
2. **คุณภาพสูง:** การจัดการที่ถูกต้องให้ผลผลิตคุณภาพสูง
3. **ประหยัดต้นทุน:** ใช้ทรัพยากรอย่างมีประสิทธิภาพ
4. **ลดความเสี่ยง:** ป้องกันปัญหาก่อนเกิดขึ้น
5. **ยั่งยืน:** การผลิตที่เป็นมิตรกับสิ่งแวดล้อม

### 🔮 แนวโน้มอนาคต

1. **Precision Agriculture:** การจัดการระดับจุลภาค
2. **Vertical Farming:** การปลูกในอาคารสูง
3. **AI Integration:** การใช้ปัญญาประดิษฐ์ในการตัดสินใจ
4. **Sustainable Production:** การผลิตที่ยั่งยืน
5. **Functional Foods:** การปรับปรุงคุณค่าทางโภชนาการ

---

*🌿 การเข้าใจวิทยาศาสตร์การปลูกผักชีฟลั่งจะทำให้เราสามารถออกแบบและใช้งานระบบอัตโนมัติได้อย่างมีประสิทธิภาพสูงสุด พร้อมทั้งผลิตผักชีฟลั่งที่มีคุณภาพและปลอดภัย*