# üå± ESP32 RTC Relay Controller

‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Relay ‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢ ESP32 ‡πÅ‡∏•‡∏∞ RTC DS3231 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## ‚ú® Features

- **Real-time Clock**: ‡πÉ‡∏ä‡πâ RTC DS3231 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- **4 Channel Relay**: ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏î‡πâ 4 ‡∏ä‡πà‡∏≠‡∏á
- **Web Interface**: ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÑ‡∏î‡πâ
- **Schedule System**: ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- **WiFi Control**: ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô WiFi ‡πÑ‡∏î‡πâ
- **Real-time Monitoring**: ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö Real-time

## üìã Requirements

### Hardware
- ESP32 Development Board
- DS3231 RTC Module
- 4-Channel Relay Module
- Jumper Wires
- Breadboard (optional)
- Power Supply (5V/2A)

### Software Libraries
- `RTClib` by Adafruit
- `ArduinoJson` by Benoit Blanchon
- `WiFi` (built-in)
- `WebServer` (built-in)
- `Wire` (built-in)

## üîå Wiring Diagram

```
ESP32 Pin    RTC DS3231    Relay Module
--------     ----------    ------------
3.3V    -->  VCC      -->  VCC
GND     -->  GND      -->  GND
GPIO21  -->  SDA      -->  -
GPIO22  -->  SCL      -->  -
GPIO5   -->  -        -->  IN1 (Relay 1)
GPIO18  -->  -        -->  IN2 (Relay 2)
GPIO19  -->  -        -->  IN3 (Relay 3)
GPIO21  -->  -        -->  IN4 (Relay 4)
```

## üì¶ Installation

### 1. Install Libraries
‡πÄ‡∏õ‡∏¥‡∏î Arduino IDE ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á libraries ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:
```
Tools > Manage Libraries
- RTClib by Adafruit
- ArduinoJson by Benoit Blanchon
```

### 2. Configure WiFi
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `esp32_rtc_relay.ino`:
```cpp
const char* ssid = "YOUR_WIFI_SSID";
const char* password = "YOUR_WIFI_PASSWORD";
```

### 3. Set RTC Time (Optional)
‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ RTC ‡πÉ‡∏´‡πâ uncomment ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ:
```cpp
rtc.adjust(DateTime(F(__DATE__), F(__TIME__)));
```

### 4. Upload Code
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Board: ESP32 Dev Module
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Port ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏Å‡∏î Upload

## üåê Web Interface

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å upload code ‡πÅ‡∏•‡πâ‡∏ß:
1. ‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor (115200 baud)
2. ‡∏î‡∏π IP address ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å WiFi
3. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà IP address

### Features ‡πÉ‡∏ô Web Interface:
- **Real-time Clock**: ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- **Relay Control**: ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î relay ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á
- **Schedule Display**: ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **Status Monitoring**: ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ relay ‡πÅ‡∏ö‡∏ö real-time

## ‚è∞ Schedule Configuration

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î:
```cpp
Schedule schedules[] = {
  {8, 0, 0, true},   // ‡πÄ‡∏õ‡∏¥‡∏î Relay 1 ‡πÄ‡∏ß‡∏•‡∏≤ 8:00
  {18, 0, 0, false}, // ‡∏õ‡∏¥‡∏î Relay 1 ‡πÄ‡∏ß‡∏•‡∏≤ 18:00
  {9, 0, 1, true},   // ‡πÄ‡∏õ‡∏¥‡∏î Relay 2 ‡πÄ‡∏ß‡∏•‡∏≤ 9:00
  {17, 0, 1, false}, // ‡∏õ‡∏¥‡∏î Relay 2 ‡πÄ‡∏ß‡∏•‡∏≤ 17:00
  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
};
```

## üîß API Endpoints

### GET /api/time
```json
{
  "time": "14:30:25"
}
```

### GET /api/relays
```json
{
  "relays": [
    {"index": 0, "state": true},
    {"index": 1, "state": false},
    {"index": 2, "state": true},
    {"index": 3, "state": false}
  ]
}
```

### POST /api/relay
```json
{
  "index": 0,
  "state": true
}
```

### GET /api/schedule
```json
{
  "schedules": [
    {
      "time": "8:00",
      "relayIndex": 0,
      "state": true
    }
  ]
}
```

## üöÄ Usage Examples

### ‡∏Å‡∏≤‡∏£‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
```cpp
// ‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤ 30 ‡∏ô‡∏≤‡∏ó‡∏µ
{6, 0, 0, true},   // ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ 6:00
{6, 30, 0, false}, // ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ 6:30

// ‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ
{18, 0, 0, true},  // ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ 18:00
{18, 30, 0, false} // ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ 18:30
```

### ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á
```cpp
// ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏ï‡∏≠‡∏ô‡∏Ñ‡πà‡∏≥ ‡∏õ‡∏¥‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤
{18, 0, 1, true},  // ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü 18:00
{6, 0, 1, false}   // ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü 6:00
```

## üîç Troubleshooting

### RTC ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ I2C (SDA, SCL)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô 3.3V
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö library RTClib

### Relay ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ GPIO
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô 5V ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö relay module
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logic level (HIGH = OFF, LOW = ON)

### WiFi ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö SSID ‡πÅ‡∏•‡∏∞ Password
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì WiFi
- ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà)

## üìù License

MIT License - ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏¥‡∏™‡∏£‡∏∞

## ü§ù Contributing

‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö

---

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ ‡πÄ‡∏ô‡∏¢ - Senior Developer** üåü 