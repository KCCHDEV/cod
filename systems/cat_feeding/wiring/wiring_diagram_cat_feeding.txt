╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                              แผนผังการเชื่อมต่อระบบให้อาหารแมวอัตโนมัติ                                    ║
║                            Automatic Cat Feeding System Wiring Diagram                                   ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                        ESP32 Development Board                                             │
│                                          (30 Pins Version)                                                │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────┘

ESP32 PIN CONFIGURATION:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

PIN 18  ──► Servo Motor (Signal Wire - Orange/Yellow)
PIN 19  ──► HX711 Load Cell Amplifier (DOUT)
PIN 21  ──► HX711 Load Cell Amplifier (SCK)
PIN 22  ──► PIR Motion Sensor (OUT)
PIN 23  ──► Buzzer (Positive)
PIN 25  ──► RGB LED (Red)
PIN 26  ──► RGB LED (Green)
PIN 27  ──► RGB LED (Blue)
PIN 32  ──► Manual Feed Button (with pull-up)
PIN 33  ──► System Reset Button (with pull-up)

I2C PINS:
PIN 21  ──► SDA (LCD Display & RTC)
PIN 22  ──► SCL (LCD Display & RTC)

POWER PINS:
3.3V    ──► Power supply for sensors
5V      ──► Power supply for servo and high-power components
GND     ──► Common ground for all components


DETAILED CONNECTION DIAGRAM:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   ESP32 Board   │    │  Servo SG90     │    │   HX711 Module  │    │  PIR HC-SR501   │
│                 │    │                 │    │                 │    │                 │
│ PIN 18 ─────────┼────┤ Signal (Orange) │    │ VCC ────────────┼────┤ VCC (5V)        │
│ 5V ─────────────┼────┤ VCC (Red)       │    │ GND ────────────┼────┤ GND             │
│ GND ────────────┼────┤ GND (Brown)     │    │ DOUT ───────────┼────┤ OUT ────────────┼──── PIN 22
│                 │    └─────────────────┘    │ SCK ────────────┼──── PIN 19           │
│ PIN 19 ─────────┼─────────────────────────── PIN 21           │    └─────────────────┘
│ PIN 21 ─────────┼────────────────────────────┘                │
│ 3.3V ───────────┼─────────────────────────────────────────────┘
│ GND ────────────┼─────────────────────────────────────────────┐
└─────────────────┘                                             │
                                                                │
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐    │
│   LCD 16x2      │    │   RTC DS3231    │    │   RGB LED       │    │
│   with I2C      │    │                 │    │                 │    │
│                 │    │ VCC ────────────┼────┤ Common Anode    │    │
│ VCC ────────────┼────┤ GND ────────────┼────┤ Red ────────────┼────┼──── PIN 25
│ GND ────────────┼────┤ SDA ────────────┼────┤ Green ──────────┼────┼──── PIN 26
│ SDA ────────────┼────┤ SCL ────────────┼────┤ Blue ───────────┼────┼──── PIN 27
│ SCL ────────────┼──── PIN 21 (SDA)     │    └─────────────────┘    │
└─────────────────┘     PIN 22 (SCL)     │                           │
                        └─────────────────┘                           │
                                                                     │
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐    │
│    Buzzer       │    │ Manual Button   │    │  Reset Button   │    │
│                 │    │                 │    │                 │    │
│ Positive ───────┼────┤ One Side ───────┼────┤ One Side ───────┼────┼──── 3.3V
│ Negative ───────┼────┤ Other Side ─────┼────┤ Other Side ─────┼────┼──── GND
└─────────────────┘     PIN 32           │     PIN 33           │    │
                        └─────────────────┘    └─────────────────┘    │
         PIN 23 ─────────────────────────────────────────────────────┘


LOAD CELL CONNECTION:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

Load Cell ──► HX711 Module:
┌─────────────────┐    ┌─────────────────┐
│   Load Cell     │    │   HX711 Module  │
│                 │    │                 │
│ Red Wire ───────┼────┤ E+              │
│ Black Wire ─────┼────┤ E-              │
│ White Wire ─────┼────┤ A-              │
│ Green Wire ─────┼────┤ A+              │
└─────────────────┘    └─────────────────┘

HX711 ──► ESP32:
┌─────────────────┐    ┌─────────────────┐
│   HX711 Module  │    │   ESP32 Board   │
│                 │    │                 │
│ VCC ────────────┼────┤ 3.3V            │
│ GND ────────────┼────┤ GND             │
│ DOUT ───────────┼────┤ PIN 19          │
│ SCK ────────────┼────┤ PIN 21          │
└─────────────────┘    └─────────────────┘


POWER SUPPLY REQUIREMENTS:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│ Main Power      │    │ ESP32 Board     │    │ Components      │
│                 │    │                 │    │                 │
│ 5V 2A Adapter ──┼────┤ VIN (5V)        │    │ Servo: 5V 1A    │
│ GND ────────────┼────┤ GND             │    │ LCD: 3.3V 20mA  │
└─────────────────┘    │ 3.3V ───────────┼────┤ RTC: 3.3V 5mA   │
                       │ GND ────────────┼────┤ PIR: 5V 50mA    │
                       └─────────────────┘    │ HX711: 3.3V 10mA│
                                              │ Buzzer: 3.3V 30mA│
                                              │ LED: 3.3V 60mA  │
                                              └─────────────────┘

Total Current: ~1.2A (with safety margin use 2A adapter)


OPTIONAL COMPONENTS:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

1. ESP32-CAM Module (for photo capture):
┌─────────────────┐    ┌─────────────────┐
│   ESP32-CAM     │    │   Main ESP32    │
│                 │    │                 │
│ GPIO0 ──────────┼────┤ PIN 4 (Trigger) │
│ VCC ────────────┼────┤ 5V              │
│ GND ────────────┼────┤ GND             │
└─────────────────┘    └─────────────────┘

2. SD Card Module (for data logging):
┌─────────────────┐    ┌─────────────────┐
│   SD Card       │    │   ESP32 Board   │
│                 │    │                 │
│ CS ─────────────┼────┤ PIN 5           │
│ SCK ────────────┼────┤ PIN 18          │
│ MOSI ───────────┼────┤ PIN 23          │
│ MISO ───────────┼────┤ PIN 19          │
│ VCC ────────────┼────┤ 3.3V            │
│ GND ────────────┼────┤ GND             │
└─────────────────┘    └─────────────────┘

3. Water Level Sensor (for water bowl monitoring):
┌─────────────────┐    ┌─────────────────┐
│ Water Sensor    │    │   ESP32 Board   │
│                 │    │                 │
│ Signal ─────────┼────┤ PIN 34 (ADC)    │
│ VCC ────────────┼────┤ 3.3V            │
│ GND ────────────┼────┤ GND             │
└─────────────────┘    └─────────────────┘


ASSEMBLY NOTES:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

1. SERVO MOUNTING:
   - Mount servo at the bottom of food container
   - Attach feeding gate to servo arm
   - Ensure smooth operation without binding

2. LOAD CELL PLACEMENT:
   - Place load cell under food container
   - Use stable platform for accurate readings
   - Protect from moisture and vibration

3. PIR SENSOR POSITIONING:
   - Mount 20-30cm above food bowl
   - Adjust sensitivity for cat detection
   - Avoid false triggers from other movements

4. LCD DISPLAY:
   - Mount in visible location
   - Use I2C backpack for easy connection
   - Adjust contrast if needed

5. ENCLOSURE:
   - Use weatherproof box if outdoors
   - Ensure adequate ventilation
   - Provide easy access for maintenance

6. WIRING TIPS:
   - Use different colored wires for easy identification
   - Secure all connections with heat shrink tubing
   - Keep power and signal wires separated
   - Use breadboard or PCB for permanent installation


TROUBLESHOOTING GUIDE:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

PROBLEM: Servo not moving
SOLUTION: 
- Check 5V power supply
- Verify signal wire connection to PIN 18
- Test with simple servo sweep code

PROBLEM: Weight sensor not reading
SOLUTION:
- Check HX711 connections
- Verify load cell wiring colors
- Calibrate sensor with known weights

PROBLEM: WiFi connection fails
SOLUTION:
- Check SSID and password
- Verify signal strength
- Reset network settings

PROBLEM: RTC time incorrect
SOLUTION:
- Check I2C connections (SDA/SCL)
- Replace RTC battery
- Re-upload time setting code

PROBLEM: PIR sensor not detecting
SOLUTION:
- Check power supply (5V)
- Adjust sensitivity potentiometer
- Test detection range

PROBLEM: LCD not displaying
SOLUTION:
- Check I2C address (usually 0x27 or 0x3F)
- Verify SDA/SCL connections
- Check contrast adjustment


SAFETY PRECAUTIONS:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

⚠️  ELECTRICAL SAFETY:
   - Always disconnect power before wiring
   - Use proper gauge wires for current load
   - Secure all connections properly
   - Use fuses for protection

⚠️  MECHANICAL SAFETY:
   - Ensure servo mechanism cannot harm pets
   - Use food-safe materials only
   - Secure all moving parts
   - Test thoroughly before use

⚠️  SOFTWARE SAFETY:
   - Implement feeding limits
   - Add manual override capability
   - Include error handling
   - Regular system health checks


VERSION HISTORY:
═══════════════════════════════════════════════════════════════════════════════════════════════════════════

v1.0 - Basic feeding system with timer
v2.0 - Added weight monitoring and web interface
v2.1 - Added cat detection and mobile app
v2.2 - Added advanced scheduling and safety features

Created: 2024
Last Updated: 2024
Author: AI Assistant
License: Open Source

═══════════════════════════════════════════════════════════════════════════════════════════════════════════